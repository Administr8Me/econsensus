{% extends "base.html" %}
{% load i18n %}

{% block title %}{{ block.super }}{% if tab == 'proposal' %}{% trans "Proposals" %}{% else %}{% if tab == 'archived' %}{% trans "Archive" %}{% else %}{% trans "Decisions Made" %}{% endif %}{% endif %}{% endblock %}

{% block heading %}{% if tab == 'proposal' %}{% trans "Proposals" %}{% else %}{% if tab == 'archived' %}{% trans "Archive" %}{% else %}{% trans "Decisions Made" %}{% endif %}{% endif %}{% endblock %}

{% block body_class%}{{ tab }}-list{% endblock %}

{% block main_content %}
		{% if object_list %}
	<table class="summary-list">
		<tr class="summary-header">
			<th class="id">
				<a href="{{ request.path }}">
					<span class="{% if sort == 'id' %}sort{% endif %}">ID</span>
				</a>
			</th>
			<th class="excerpt">
				<a href="{{ request.path }}?sort=excerpt">
					<span class="{% if sort == 'excerpt' %}sort{% endif %}">Excerpt</span>
				</a>
			</th>
			{% if tab == 'decision' %}
			<th class="decided_date">
				<a href="{{ request.path }}?sort=decided_date" class="{% if sort == 'decided_date' %}sort{% endif %}">
					<span class="{% if sort == 'decided_date' %}sort{% endif %}">Decided Date</span>
				</a>
			</th>
			<th class="review_date">
				<a href="{{ request.path }}?sort=review_date" class="{% if sort == 'review_date' %}sort{% endif %}">
					<span class="{% if sort == 'review_date' %}sort{% endif %}">Review Date</span>
				</a>
			</th>
			{% endif %}
			{% if tab == 'archived' %}
			<th class="created_date">
				<a href="{{ request.path }}?sort=created_date">
					<span class="{% if sort == 'created_date' %}sort{% endif %}">Created Date</span>
				</a>
			</th>
			<th class="archived_date">
				<a href="{{ request.path }}?sort=archived_date">
					<span class="{% if sort == 'archived_date' %}sort{% endif %}">Archived Date</span>
				</a>			
			</th>
			{% endif %}
			{% if tab == 'proposal' %}
			<th class="feedbackcount">
				<a href="{{ request.path }}?sort=feedback">
					<span class="{% if sort == 'feedback' %}sort{% endif %}">Feedback</span>
				</a>{% comment %}
			</th>
			<th class="watchercount">
			<a href="{{ request.path }}?sort=watchers">
				<span class="{% if sort == 'watchers' %}sort{% endif %}">Watchers</span>
			</a>{% endcomment %}
			</th>
			<th class="deadline">
				<a href="{{ request.path }}?sort=deadline">
					<span class="{% if sort == 'deadline' %}sort{% endif %}">Deadline</span>
				</a>
			</th>
			{% endif %}
		</tr>
        {% for object in object_list %}
		<tr>
			<td class="id">
				<a href="{% url publicweb_item_detail object.id %}">
					<span class="iconified">{{ object.id }}</span>
				</a>
			</td>
			<td class="excerpt">
				<a href="{% url publicweb_item_detail object.id %}">
					{{ object.excerpt }}
				</a>
			</td>
			{% if tab == 'decision' %}
			<td>
				<a href="{% url publicweb_item_detail object.id %}">
					{{ object.decided_date }}
				</a>
			</td>
			<td>
				<a href="{% url publicweb_item_detail object.id %}">
				{{ object.review_date }}
				</a>
			</td>
			{% endif %}
			{% if tab == 'archived' %}
			<td>
				<a href="{% url publicweb_item_detail object.id %}">
					{{ object.created_date }}
				</a>
			</td>
			<td>
				<a href="{% url publicweb_item_detail object.id %}">
					{{ object.archived_date }}
				</a>
			</td>
			{% endif %}
			{% if tab == 'proposal' %}
			<td>
				<a href="{% url publicweb_item_detail object.id %}">
					{{ object.feedbackcount }}
				</a>
			</td>{% comment %}
			<td>
				<a href="{% url publicweb_item_detail object.id %}">
					{{ object.watchercount }}
				</a>
			</td>{% endcomment %}
			<td>
				<a href="{% url publicweb_item_detail object.id %}">
					{{ object.deadline }}
				</a>
			</td>
			{% endif %}
		</tr>{% endfor %} <!-- item proposal -->
	</table> <!-- list_view proposal -->
		{% else %}
			<p class="no_items">{% trans "There are no decisions made." %}.<p>
		{% endif %}				
{% endblock %}

{% block footer_content %}
	<p class="export"><a title="Export as CSV file" href="{% url publicweb_export_csv %}">{% trans "Export as CSV file" %}</a></p>
{% endblock %}
